问题代码
---------
./extensions/zgdata.lua 代码量只有100来行


遇到的问题
----------
* 通过lua函数将 sqlite3 的数据导出到 javascript文件时，在win7下有60%的概率会卡死程序。
* 具体表现为窗口无响应,程序卡死， 无法再接受键盘鼠标输入，游戏无法进行，只能强行关闭窗口。
* 此问题只在win7系统下出现， XP下正常运行没问题


我的尝试
----------
* sqlite3数据库和js文件均为lua第一次运行时由lua新建生成，因此排除权限问题
* 发现函数 database2js 将数据库文件导出的时候， 执行select语句时游戏卡死
* 经过N次努力，均无法解决这个问题



调试建议
---------
* 调试的时候必须选择标包的曹操,每当曹操回合开始时程序将 ./zhangong/zhangong.data的数据导出到 ./zg.js
* 建议开自由选将, 普通二人局(非KOF模), 身份选主公，武将选标包的曹操
* 注意在 win7下运行，因为本测试包在 xp下没问题
* 为了避免干扰，建议将 extensions 目录其他所有lua文件(包括战功包)暂时全部删除,只留下 zgdata.js
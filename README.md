遇到的问题
----------
*通过lua函数将 sqlite3 的数据导出到 javascript文件时，在win7下有60%的概率会卡死程序。
*具体表现为窗口无响应,程序卡死， 无法再接受键盘鼠标输入，游戏无法进行，只能强行关闭窗口。
*XP下经过群里许多人的大量测试，却一切正常，从未遇到上述现象。


我的尝试
----------
*最开始以为是数据库或js文件的写权限问题,因此将程序重写，sqlite3数据库和js文件均为lua第一次运行时由lua新建生成，因此排除权限问题
*通过单步跟踪，发现将数据库文件导出的时候执行 select语句卡死，具体函数是 database2js
*经过N次努力，均无法解决这个问题



测试包
----------
* 为了方便调试，将引起程序卡死的函数单独做成包  ./extensions/zgdata.lua 代码量只有100来行
* 调试的时候必须选择标包的曹操(建议开自由选将),每当曹操回合开始时将 ./zhangong/zhangong.data的数据导出到 ./zg.js
* 调试的时候为了避免干扰，建议将 extensions 目录其他所有lua文件(包括战功包)暂时全部删除,只留下 zgdata.js